---
layout: compress
---
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta property="og:title" content="{{ page.desc }}"/>
    <meta property="og:image" content="{{ page.preview }}"/>
    <meta property="og:description" content="{{ page.desc }}"/>
    <meta property="og:url" content="{{ page.pc_redirect }}"/>
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="627"/>
    <meta property="og:type" content="website"/>
    <link href="/favicon.ico?" rel="icon" type="image/x-icon">
    <title>{{ page.desc }}</title>
    <script>
        const androidUrl = "{{ page.android_redirect }}";
        const iosUrl = "{{ page.ios_redirect }}";
        const pcUrl = "{{ page.pc_redirect }}";
        const webUrl = "{{ page.web_redirect }}";

        function detectPlatform() {
            const ua = navigator.userAgent || navigator.vendor || window.opera;
            if (/android/i.test(ua)) return "android";
            if (/iPad|iPhone|iPod/.test(ua) && !window.MSStream) return "ios";
            return "pc";
        }

        function loadCSS() {
            const link = document.createElement("link");
            link.rel = "stylesheet";
            link.href = "/assets/css/style.css";
            return link;
        }

        function loadIcon() {
            const img = document.createElement("img");
            img.src = "{{ page.preview }}";
            img.alt = "{{ page.desc }}";
            img.className = "rb-app-icon";
            return img;
        }

        function fallback(){
            document.head.appendChild(loadCSS());
            document.getElementById("links").prepend(loadIcon());
            document.body.style.display = "flex";
        }

        function forceFallback() {
            const params = new URLSearchParams(window.location.search);
            return params.has("links");
        }

        function redirectIfAvailable() {
            if(forceFallback()){
                fallback();
                return;
            }

            const platform = detectPlatform();
            let target = "";

            if (platform === "android" && androidUrl) target = androidUrl;
            else if (platform === "ios" && iosUrl) target = iosUrl;
            else if (platform === "pc" && pcUrl) target = pcUrl;
            else if (platform === "pc" && webUrl) target = webUrl;

            if (target) {
                location.replace(target);
            } else {
               fallback();
            }
        }

        window.onload = redirectIfAvailable;
    </script>
</head>
<body class="rb-body" style="display: none">
<div id="links"
     class="uk-card uk-card-large uk-width-1-1 uk-width-1-2@m uk-width-1-3@l uk-align-center uk-text-center rb-game-card">
    <h1 class="uk-text-large uk-text-bold">Download {{ page.desc }}</h1>
    {% if page.android_redirect %}<a class="rb-button rb-android-button" href="{{ page.android_redirect }}">Download
    for
    Android</a>{% endif %}
    {% if page.ios_redirect %}<a class="rb-button rb-ios-button" href="{{ page.ios_redirect }}">Download for iOS</a>{%
    endif %}
    {% if page.pc_redirect %}<a class="rb-button" href="{{ page.pc_redirect }}">Download for PC</a>{% endif %}
    {% if page.web_redirect %}<a class="rb-button" href="{{ page.web_redirect }}">Play on Web</a>{% endif %}
</div>
</body>
</html>